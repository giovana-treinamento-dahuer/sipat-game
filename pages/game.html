<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, orientation=landscape">
    <script defer src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <link rel="stylesheet" href="../css/botao.css">
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-database.js"></script>
    <script defer src="../js/script.js"></script>

    <title>Aninha Jump</title>
</head>

<body>

    <div class="game-board">
        <img src="" class="clouds" id="clouds">
        <form class="placar">
            <span style="z-index: 1">Player:
                <span class="player"></span>
            </span>
            <span style="z-index: 1">Score:
                <span class="timer"></span>
            </span>
            <div class="lives">Vidas: <span class="lives-count">3</span></div>
        </form>
        <img src="../images/mario.gif" class="mario" id="mario">
    </div>
    <footer class="foreground">
        <img src="../images/foreground.png">
    </footer>
    <script>
        // Lista de URLs das imagens
        var images = [
    '../images/n1.png',
    '../images/n2.png',
    '../images/n3.png',
    '../images/aviao.png',
];

function changeImage() {
    var randomIndex = Math.floor(Math.random() * images.length);
    var randomImage = images[randomIndex];
    document.getElementById('clouds').src = randomImage;

    // Verifica se a imagem atual é o avião
    if (randomImage === '../images/aviao.png') {
        setTimeout(() => {
            checkCollisionWithPlane();
        }, 16000);
    }
}

changeImage();

setInterval(changeImage, 20000);

function checkCollisionWithPlane() {
    const marioElement = document.getElementById('mario');
    console.log(marioElement); // Verifica se o elemento Mario está sendo selecionado corretamente

    const marioRect = marioElement.getBoundingClientRect();
    const planeRect = document.getElementById('clouds').getBoundingClientRect();

    // Verifica se houve colisão entre o Mario e o avião
    if (
        marioRect.bottom >= planeRect.top &&
        marioRect.top <= planeRect.bottom &&
        marioRect.right >= planeRect.left &&
        marioRect.left <= planeRect.right
    ) {
        // Colisão detectada
        handlePlaneCollision();
    }
}

function handlePlaneCollision() {
    addScore(500);
}
    </script>

</body>

</html>